var forms={showForms:function(){$(".sections").addClass("d-none"),$(".sections.view-forms").removeClass("d-none"),forms.listForms()},listForms:function(e){getResponse(`/users/${sessionStorage.getItem("pid")}/forms`,{email:sessionStorage.getItem("pt-email")},e=>{$("#forms-list").html(""),e.body.Items.forEach(e=>{$(`<li class="p-3 m-2 text-white text-uppercase pointer rounded action" style="background: linear-gradient(120deg,#7f70f5,#0ea0ff);" data-action="view-form" data-form-type='${e.form_type}' data-created="${e.created}">\n                <span class="d-block mb-1 text-uppercase font-weight-bold">${e.form_type.replaceAll("_"," ")}</span>\n                <span>${moment(e.created).format("LLL")}</span>\n              </li>`).appendTo("#forms-list")})})},viewForm:function(e,s){getResponse(`/users/${sessionStorage.getItem("pid")}/forms`,{email:sessionStorage.getItem("pt-email"),form_type:e,created:s},s=>{if("adult_form_ar"==e&&($(".forms").addClass("d-none"),$("#forms-data").html(ptRenderForm(s))),"adult_form_ar"!=e){$("#forms-data").html(""),$(".forms").addClass("d-none"),$(".forms."+e).removeClass("d-none");let t=s.body.Items[0].form_data;js2form(""+e,t),$(".forms."+e).find("input,select,textarea,.custom-control-label").addClass("input-no-edit"),$(".countries-list").val(t.nationality),$(".countries-list").trigger("change"),$(".countries-list").prop("disabled",!0),$(".tel-phone-input").val(t.phone_number),$(".tel-phone-input").trigger("change"),$(".tel-phone-input").prop("disabled",!0),$(".signature-pad-actions").addClass("d-none");let o,r=1;for(o in t)o.includes("signature")?$(`#signature-pad-${r} canvas`).replaceWith(`<img class="img-fluid eidb" src="${t[o]}"/>`):$("canvas").remove()}})}};function ptShowForm(e,s){getResponse(`/users/${sessionStorage.getItem("pid")}/forms`,{email:sessionStorage.getItem("pt-email"),form_type:e,created:s},ptRenderForm)}function ptRenderForm(e){console.log("pt render form - ",e)}parsedURL.hasOwnProperty("form")?($(".sections").addClass("d-none"),$(".sections.submit-form").removeClass("d-none"),$.ajax({url:parsedURL.form,async:!0,success:function(e){$("#form-iframe").attr("srcdoc",e)}})):forms.showForms();